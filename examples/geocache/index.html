<html>
  <head>
    <title>A-Frame Tangram Component - Geocaching</title>
    <meta name="description" content="Geocaching example for Tangram component."></meta>

    <script src="../build.js"></script>
    <script src="https://mapzen.com/tangram/tangram.min.js"></script>
    <script src="https://unpkg.com/aframe-sun-sky@3.0.3/dist/aframe-sun-sky.min.js"></script>

    <script src="./collider-check.js"></script>
    <script src="./add-markers.js"></script>
    <script src="./distance-meter.js"></script>
    <script src="./altitude-meter.js"></script>
    <script src="./map-look-controls.js"></script>
    <script src="./set-marker-on-map.js"></script>
    <script src="./map-geojson-on-heightmap.js"></script>
  </head>
  <body>
    <a-scene fog="type: exponential; color: #fff; far: 20; density: 0.015;">
      <a-assets>
        <a-asset-item id="geo-trails" src="assets/trails.geojson" />

        <a-asset-item id="geo-markers" src="assets/markers.geojson" />
        <a-asset-item id="yaml-austria" src="assets/austria-satellite.yaml" />
        <a-asset-item id="yaml-walkabout-style" src="assets/walkabout-style.yaml" />
        <img id="img-compass-wheel" src="assets/compass-wheel.png" />
        <img id="img-arrow" src="assets/mini_arrow.png" />
      </a-assets>
 
      <!--<a-sun-sky material="sunPosition: -0.2 1.0 -5"></a-sun-sky>-->
 
      <a-entity id="terrain" visible="true"
      
      geometry="width: 50; height: 50; segmentsWidth: 64; segmentsHeight: 64;"

      tangram-heightmap="
      mapzenAPIKey: mapzen-sfnfVzq;
      style: #yaml-austria;
      center: 15.8056, 47.7671;
      zoom: 9;
      wireframe: true;
      pxToWorldRatio: 30;
      highestAltitudeMeter: 2076;
      " 


      map-geojson-on-heightmap="geojson: #geo-trails;"

      rotation="-90 0 0"


      >
      <!--add-markers="geojson: #geo-markers;"-->

      </a-entity>
      <a-entity id="player" collider-check="heightmap: #terrain;">


        <a-camera id="camera" user-height="0.4" wasd-controls-enabled="true" look-controls-enabled="true" 
        >

        <a-entity>
          <a-entity position="0 -2 -3" rotation="-90 0 0">
            <a-entity geometry="primitive: box; height: 0.5; width: 0.1; depth: 0.05" material="color: #FCB514" position="0 0 0"></a-entity>
            <a-image map-look-controls="#camera" src="#img-compass-wheel"></a-image>
          </a-entity>
          <a-entity id="hud-map" position="0 2 -6" rotation="0 0 0">
            <a-entity 

            geometry="primitive: plane; width: 3; height: 2;"
            
            material="color: #ffffff; shader: flat; side: front; transparent: false; fog: false;"

            set-marker-on-map="heightmap: #terrain; marker: #my-marker;"

            distance-meter=""
            altitude-meter="heightmap: #terrain; text: #altitudeText;"

            tangram-map="
            mapzenAPIKey: mapzen-sfnfVzq;
            style: #yaml-walkabout-style;
            pxToWorldRatio: 100;
            "

            >
              <a-image id="my-marker" src="#img-arrow" transparent="true" width="0.2" height="0.2" position="0 0 0.01">
              </a-image>
            </a-entity>
          </a-entity>

          <a-text id="altitudeText" value="Hallo" color="white" position="-5 2 -5"></a-text>
        </a-entity>
        

          <a-cursor></a-cursor>

        </a-camera>
        

        
      </a-entity>


    </a-scene>
      
  </body>
</html>
